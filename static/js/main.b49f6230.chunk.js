(this.webpackJsonpreact_api=this.webpackJsonpreact_api||[]).push([[0],{105:function(e,t,a){},124:function(e,t,a){e.exports=a(216)},147:function(e,t,a){},148:function(e,t,a){},186:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"FETCH_OFFERS",(function(){return v})),a.d(n,"FETCH_OFFERS_SUCCESS",(function(){return y})),a.d(n,"FETCH_OFFERS_FAILURE",(function(){return _})),a.d(n,"RESET_OFFERS",(function(){return S})),a.d(n,"GET_POPULAR_SHOW_INFO",(function(){return w})),a.d(n,"GET_MOST_POPULAR_SHOWS",(function(){return j})),a.d(n,"FETCH_OFFER",(function(){return F})),a.d(n,"FETCH_OFFER_SUCCESS",(function(){return x})),a.d(n,"FETCH_OFFER_FAILURE",(function(){return T})),a.d(n,"RESET_OFFER",(function(){return C})),a.d(n,"VIDEO_PLAYER",(function(){return R})),a.d(n,"CARD_STATE",(function(){return P})),a.d(n,"randomShowCategory",(function(){return M})),a.d(n,"loadMostPopularShows",(function(){return H})),a.d(n,"getFullInfo",(function(){return U})),a.d(n,"setFullInfo",(function(){return D})),a.d(n,"setFullListPopular",(function(){return G})),a.d(n,"setCardState",(function(){return W})),a.d(n,"setPlayerState",(function(){return V})),a.d(n,"fetchOffersSuccess",(function(){return Y})),a.d(n,"fetchOffersError",(function(){return J}));var r=a(1),o=a.n(r),l=a(14),i=a.n(l),c=a(47),s=a(15),u=a(106),m=a(4),d={data:{}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOST_POPULAR_SHOWS":return Object(m.a)(Object(m.a)({},e),{},{data:t.data});default:return Object(m.a)({},e)}},p={data:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POPULAR_SHOW_INFO":return Object(m.a)(Object(m.a)({},e),{},{data:{data:t.data.data,show:t.data.show}});default:return Object(m.a)({},e)}},g={visibility:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARD_STATE":return Object(m.a)(Object(m.a)({},e),{},{visibility:t.status});default:return e}},E=a(75),O=a.n(E),v="FETCH_OFFERS",y="FETCH_OFFERS_SUCCESS",_="FETCH_OFFERS_FAILURE",S="RESET_OFFERS",w="GET_POPULAR_SHOW_INFO",j="GET_MOST_POPULAR_SHOWS",F="FETCH_OFFER",x="FETCH_OFFER_SUCCESS",T="FETCH_OFFER_FAILURE",C="RESET_OFFER",R="VIDEO_PLAYER",P="CARD_STATE",k="c5a0d67cd10acc956b71b44e83cc10af",I="https://api.themoviedb.org/3",N=new Date(Date.now()+864e5),A=N.getDate()+"/"+(N.getMonth()+1)+"/"+N.getFullYear();function L(e){var t=new Date,a=e+"_data";return function(e){var t=new Date(A);return(e=new Date(e))>t}(t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear())?(localStorage.removeItem(e+"_data"),localStorage.removeItem(a),!1):!!localStorage.getItem(a)&&JSON.parse(localStorage.getItem(a))}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return""===e?(console.error("".concat(e," is required in function storeCache. ")),!1):(localStorage.setItem(e+"_data",JSON.stringify(t)),localStorage.setItem(e,a),!0)}function M(){var e={type:"CATEGORY",name:""},t=["movie","tv"][Math.floor(2*Math.random())];return e.name=t,e}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||(e=M()),L(e)?Y(L(e)):function(t){t({type:v});var a=Math.floor(5*Math.random());return O()({method:"GET",redirect:"follow",url:"".concat(I,"/").concat(e,"/popular?api_key=").concat(k,"&language=en-US&page=").concat(a),headers:[]}).then((function(a){console.log("Getting from APi: "+e),200!==a.status&&(console.log(a.statusText),t(J(a.statusText))),z(e,a.data.results,A),t(G(a.data.results)),t(Y(a.data.results))}),(function(e){return t(J(e))}))}}function U(e,t){if(void 0===e)return J("Data undefiend");var a=e[Math.floor(Math.random()*e.length)].id;return function(e){return e({type:v}),O()({method:"GET",redirect:"follow",url:"".concat(I,"/").concat(t,"/").concat(a,"?api_key=").concat(k,"&language=en-US"),headers:{"Content-Type":"application/json"}}).then((function(n){console.log("Getting from APi: "+a),200!==n.status&&e(J(n.statusText)),e(D({data:n.data,showType:t})),e(Y(n.data))}),(function(t){return e(J(t))}))}}function D(e){return{type:w,data:{data:e.data,show:e.showType}}}function G(e){return{type:j,data:e}}function W(e){return{type:P,status:e}}function V(e){return{type:R,status:e}}function Y(e){return{type:y,payload:e}}function J(e){return{type:_,payload:e}}var q={offerList:{offers:[],error:null,loading:!1},selectedOffer:{offer:null,error:null,loading:!1}},B={status:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIDEO_PLAYER":return Object(m.a)(Object(m.a)({},e),{},{status:!t.status});default:return e}},Z=Object(c.b)({listShows:f,fullInfoShow:h,offers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),{},{offerList:{offers:[],error:null,loading:!0}});case y:return Object(m.a)(Object(m.a)({},e),{},{offerList:{offers:t.payload,error:null,loading:!1}});case _:var a=t.payload||{message:t.payload.message};return Object(m.a)(Object(m.a)({},e),{},{offerList:{offers:[],error:a,loading:!1}});case S:return Object(m.a)(Object(m.a)({},e),{},{offerList:{offers:[],error:null,loading:!1}});case F:return Object(m.a)(Object(m.a)({},e),{},{selectedOffer:Object(m.a)(Object(m.a)({},e.selectedOffer),{},{loading:!0})});case x:return Object(m.a)(Object(m.a)({},e),{},{selectedOffer:{offer:t.payload,error:null,loading:!1}});case T:var n=t.payload||{message:t.payload.message};return Object(m.a)(Object(m.a)({},e),{},{selectedOffer:{offer:null,error:n,loading:!1}});case C:return Object(m.a)(Object(m.a)({},e),{},{selectedOffer:{offer:null,error:null,loading:!1}});default:return e}},cardVisibility:b,videoPlayer:X}),$=(a(147),a(148),a(37)),K=a(38),Q=a(44),ee=a(42),te=a(32),ae=a.n(te),ne=a(55),re=a(70),oe=a(17),le=a(245),ie=a(241),ce=a(246),se=a(40),ue=a(0),me=a(109),de=a.n(me),fe=a(243),pe=a(244),he=a(247),ge=a(54),be=a(110),Ee=a.n(be),Oe=a(254);function ve(){return o.a.createElement(Oe.a,{size:"xxs",color:"red.600",thickness:"8px",speed:".9s",style:{position:"absolute",zIndex:"2",top:"50%",left:"50%",transform:"translate(-50%, -50%)",marginRight:"-50%"}})}var ye=a(66),_e=a.n(ye),Se=(a(186),function(e){Object(Q.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).state={loading:!1,thumbnail:!1,playing:!0,seekTime:0},n.handlePause=function(){n.setState({thumbnail:!0,playing:!1,seekTime:n.getCurrentTime})},n.handlePlay=function(){n.setState({thumbnail:!1,loading:!1,seekTime:n.getCurrentTime,playing:!0})},n.isPlayerReady=function(){console.log("The player is ready..")},n.getCurrentTime=function(e){return e.playedSeconds},n.handleSeek=function(){console.logo("seeking")},n.handlePause=n.handlePause.bind(Object(ge.a)(n)),n.handlePlay=n.handlePlay.bind(Object(ge.a)(n)),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.setPlayerState,a=e.videoPlayer,n=this.state,r=n.loading,l=n.playing,i=n.thumbnail,c=function(){t(a.status)};return o.a.createElement("div",{className:"player--container",style:{position:"absolute",top:"0",left:"0",zIndex:"9",background:"#00000096",width:"100vw",height:"100vh"}},o.a.createElement("h1",{style:{position:"absolute",left:"10%",zIndex:9,fontSize:"1.5rem",lineHeight:"87px"}},this.props.data.title),o.a.createElement("button",{type:"button",onClick:c,style:{position:"absolute",top:"3%",right:"3%",zIndex:"9"}},o.a.createElement(ue.b.Provider,{value:{size:"2rem"}},o.a.createElement(se.c,null))),r?o.a.createElement(ve,null):"",null!==this.props.data.link?o.a.createElement(Ee.a,{ref:this.ref,url:this.props.data.link,config:{youtube:{playerVars:{showinfo:0,rel:1,disablekb:1,modestbranding:1,iv_load_policy:0}}},playing:l,width:"100%",height:"100%",light:!1,onPlay:this.handlePlay,onPause:this.handlePause,onError:c,onEnded:c,onProgress:this.getCurrentTime,onReady:function(e){return console.log("onReady")},onSeek:function(e){return console.log("onSeek")}}):"",i?o.a.createElement("div",{className:"full-hw player--thumb",onClick:this.handlePlay},o.a.createElement(ue.b.Provider,{value:{size:"2rem"}},o.a.createElement(_e.a,null))):"")}}]),a}(r.Component)),we=Object(s.b)((function(e){return e}),n)(Se),je=a(114),Fe=a.n(je),xe=(a(105),a(218)),Te=a(242),Ce=a(249);function Re(e){var t=e.companies,a=e.baseUrl,n=t.map((function(e,t){return o.a.createElement(Ce.a,{key:t,title:o.a.createElement(ie.a,{fontSize:"sm"},e.name)},o.a.createElement(xe.a,{alt:e.name,src:null!==e.logo_path?a+e.logo_path:"/react-movie-tvshow-app/images/logo_companie_square_placeholder_80x80.png"}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Te.a,{max:3,className:"avatar-group"},n))}var Pe=a(251);function ke(e){var t=e.id,a=e._onClick,n=e.name,r=e._class;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{type:"button",id:t,className:void 0!==r?"button "+r:"button ",onClick:a},o.a.createElement("div",{className:"circle"}),o.a.createElement("div",{className:"square",size:"lg",color:"#e63946"},n)))}function Ie(e){e.info;var t=e.showType,a=Object(r.useState)(t.name),n=Object(re.a)(a,2),l=n[0],i=n[1],c=Object(s.c)(),u=Object(s.d)((function(e){return e.videoPlayer})),m=Object(s.d)((function(e){return e.offers})),d=Object(s.d)((function(e){return e.fullInfoShow.data})),f=Object(s.d)((function(e){return e.fullInfoShow.data.data})),p=Object(r.useState)(f),h=Object(re.a)(p,2),g=h[0],b=h[1],E=Object(r.useState)(null),O=Object(re.a)(E,2),v=O[0],y=O[1],_=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.data.original_name?d.data.original_name:d.data.original_title,d.data.release_date?d.data.release_date.split("-")[0]:d.data.first_air_date.split("-")[0],a=t+" "+d.show+" Trailer",n={maxResults:1,key:"AIzaSyCBWPL5lr0Jv9M8GypY4HuZd1zI0WkuFMc"},Fe()(a,n,(function(e,t){if(e)return console.log(e);y(t[0])}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){i(d.show),b(d.data),_()}),[d.show,d.data]);var S=Object(fe.a)((function(e){return{mainContainer:{background:"url(".concat("https://image.tmdb.org/t/p/w1280/"+g.backdrop_path,") #000 no-repeat "),backgroundSize:"cover",backgroundPosition:"center",height:"100%",position:"relative",zIndex:"0"},twoColumns:{gridTemplateColumns:"repeat(auto-fit, minmax(50%, 1fr))",alignItems:"center"},playIcon:{height:250,width:250,color:"#e833409e",transition:"all .5s","&:hover":{color:"#e83340",borderRadius:"100%",backgroundColor:"rgb(0 0 0 / 0.10)",boxShadow:"0 0 20px 15px rgb(0 0 0 / 0.10)"}}}}))(),w=g.genres.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:e.id},e.name," ",t!==g.genres.length-1?",":""," ")})),j=g.number_of_seasons?1===g.number_of_seasons.length?o.a.createElement(o.a.Fragment,null,g.number_of_seasons," Season"):o.a.createElement(o.a.Fragment,null,g.number_of_seasons," Seasons"):"",F=g.original_name?g.original_name:g.original_title,x=g.release_date?g.release_date.split("-")[0]:"";return o.a.createElement(o.a.Fragment,null,m.offerList.loading?o.a.createElement(ve,null):"",o.a.createElement(pe.a,{container:!0,className:S.mainContainer},o.a.createElement(pe.a,{container:!0,item:!0,xs:12,className:"info-movie--container",style:{height:"100vh"}},o.a.createElement(pe.a,{item:!0,lg:6,sm:6,xs:12,className:"Card--grid"},o.a.createElement(oe.a,{gridArea:"elem"},o.a.createElement(le.a,{className:"info--Card"},o.a.createElement(oe.a,{className:"show-info-above-title"},o.a.createElement(ie.a,{fontSize:"xl"},w)),o.a.createElement(oe.a,null,o.a.createElement(ce.a,{as:"h1",fontSize:"6xl"},F)),o.a.createElement(pe.a,{item:!0,className:"show-info-below-title"},o.a.createElement(ie.a,{fontSize:"xl"},o.a.createElement(ue.b.Provider,{value:{color:"orange",className:"rating-star"}},o.a.createElement(se.b,null)),g.vote_average),o.a.createElement(ie.a,null,g.first_air_date?g.first_air_date.split("-")[0].split("-")[0]:"",x),o.a.createElement(ie.a,null,g.runtimeStr),o.a.createElement(ie.a,null,j),o.a.createElement(ie.a,{style:{textTransform:"uppercase"}},l)),o.a.createElement(oe.a,null,o.a.createElement(he.a,{style:{padding:"5px",fontSize:"1.15rem"}},o.a.createElement(de.a,{className:"read-more",charLimit:300,readMoreText:" Read more",readLessText:" Read less"},g.overview))),o.a.createElement(Re,{companies:g.production_companies,baseUrl:"https://image.tmdb.org/t/p/w45/"}),o.a.createElement(pe.a,{item:!0,xs:12},o.a.createElement(ke,{id:"button-fill--card",_onClick:function(){!function(){try{var e=M();H(e.name);var t=c(H(e.name));c(U(t.payload,e.name))}catch(a){console.error("Something went wrong:",a)}}()},name:"Generate",_class:"bottom-center"}))))),v?o.a.createElement(pe.a,{item:!0,lg:6,sm:6,xs:12,className:"player"},o.a.createElement(Pe.a,{"aria-label":"play/pause",type:"button",onClick:function(){c(V(!u))}},o.a.createElement(_e.a,{className:S.playIcon}))):""),u.status?o.a.createElement(we,{data:v,thumbnail:"https://image.tmdb.org/t/p/w1280/"+g.backdrop_path}):""))}var Ne=a(250),Ae=function(e){Object(Q.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object($.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={error:!1,shows:null,infoShow:null,show_type:""},e}return Object(K.a)(a,[{key:"generateNewMovie",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.randomShowCategory(),this.setState({show_type:t}),e.next=5,this.props.loadMostPopularShows(t.name);case 5:return a=this.props.loadMostPopularShows(t.name),this.setState({shows:a.payload}),e.next=9,this.props.getFullInfo(a.payload,t.name);case 9:return n=e.sent,this.setState({infoShow:this.props.offers.offerList.offers}),null===this.props.offers.offerList.error&&"FETCH_OFFERS_FAILURE"!==a.type||this.setState({error:!0}),e.abrupt("return",n);case 15:e.prev=15,e.t0=e.catch(0),console.error("Something went wrong:",e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.cardVisibility,n=t.setCardState,r=t.setPlayerState,l=t.videoPlayer,i=t.offers,c=this.state,s=c.error,u=c.show_type,m=c.infoShow;return o.a.createElement(o.a.Fragment,null,i.offerList.loading?o.a.createElement(ve,null):"",s?o.a.createElement("div",{style:{display:"inline-flex"}},o.a.createElement(Ne.a,{variant:"outlined",severity:"error",style:{backgroundColor:"#3b000030",color:"#fff"}},"It is not possible to search at the moment. Try again later.")):"",s||a.visibility?"":o.a.createElement(ke,{_onClick:Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generateNewMovie();case 2:n(!0);case 3:case"end":return t.stop()}}),t)}))),name:"Show Me"}),a.visibility?o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie,{info:m,showType:u}),o.a.createElement("button",{type:"button",onClick:function(){l.status&&r(l.status),n(!1)},style:{position:"absolute",top:"3%",left:"3%"}},o.a.createElement(ue.b.Provider,{value:{size:"2rem"}},o.a.createElement(se.a,null)))):"")}}]),a}(r.Component),Le=Object(s.b)((function(e){return e}),n)(Ae),ze=function(e){Object(Q.a)(a,e);var t=Object(ee.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{id:"button-fill"}))}}]),a}(r.Component),Me=Object(s.b)((function(e){return e}),n)(ze),He=a(255),Ue=a(253),De=a(248),Ge=a(116),We=a(252),Ve=Object(m.a)(Object(m.a)({},We.a),{},{colors:Object(m.a)(Object(m.a)({},We.a.colors),{},{brand:{900:"#1a365d",800:"#153e75",700:"#2a69ac"}}),fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"4rem","7xl":"5rem","8xl":"6rem","6rpw":"5vw"},sizes:Object(m.a)(Object(m.a)({},We.a.space),{},{full:"100%",xxs:"5rem","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem"})});function Ye(e){var t=e.children,a=Object(s.d)((function(e){return e.cardVisibility})).visibility;return o.a.createElement(He.a,{theme:Ve},o.a.createElement(Ue.a,null),t,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"v-container"},o.a.createElement(De.a,{columns:2,size:"100%",align:"center",justify:"center"},a?"":o.a.createElement(Ge.a,{flexDirection:"column",justifyContent:"flex-end"},o.a.createElement(oe.a,null,o.a.createElement(ie.a,{textAlign:"center",className:"title",fontSize:"6rpw",textTransform:"uppercase",fontWeight:"700",textshadow:"0 0 300px #a9a9a9, 0 0 100px #a9a9a95e, 0 0 20px #040404"},"What to Watch Right Now"))),o.a.createElement(oe.a,null,o.a.createElement(Me,null))))))}a(213).config();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,qe=Object(c.d)(Z,Je(Object(c.a)(u.a)));document.body.style.backgroundImage="url(".concat("/react-movie-tvshow-app","/images/bg2.jpg)"),i.a.render(o.a.createElement(s.a,{store:qe},o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[124,1,2]]]);
//# sourceMappingURL=main.b49f6230.chunk.js.map